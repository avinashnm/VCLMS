
<!DOCTYPE html>
<!--
	NOTES:
	1. All tokens are represented by '$' sign in the template.
	2. You can write your code only wherever mentioned.
	3. All occurrences of existing tokens will be replaced by their appropriate values.
	4. Blank lines will be removed automatically.
	5. Remove unnecessary comments before creating your template.
-->
<html>
<head>

	<style>
		#customers {
		  font-family: Arial, Helvetica, sans-serif;
		  border-collapse: collapse;
		  width: 100%;
		}
		
		#customers td, #customers th {
		  border: 1px solid #ddd;
		  padding: 8px;
		}
		
		#customers tr:nth-child(even){background-color: #f2f2f2;}
		
		#customers tr:hover {background-color: #ddd;}
		
		#customers th {
		  padding-top: 12px;
		  padding-bottom: 12px;
		  text-align: left;
		  background-color: #04AA6D;
		  color: white;
		}




		.table-striped tbody tr:nth-of-type(odd) {
        background-color: #f2f2f2;
    }

    .table-striped tbody tr:hover {
        background-color: #c4e3f3;
    }

    .btn-danger {
        color: #fff;
        background-color: #dc3545;
        border-color: #dc3545;
    }

    .btn-danger:hover {
        color: #fff;
        background-color: #c82333;
        border-color: #bd2130;
    }
	

		</style>
		


<meta charset="UTF-8">
<meta name="authoring-tool" content="Adobe_Animate_CC">
<link rel="stylesheet" href="{ 'css/exp1.css' }">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
<title>Exp1</title>
<!-- write your code here -->
<script src="{%static 'libs/1.0.0/createjs.min.js'%}"></script>
<script src="{ 'js/Exp1.js' }"></script>

<script>






var canvas, stage, exportRoot, anim_container, dom_overlay_container, fnStartAnimation;
function init() {
	canvas = document.getElementById("canvas");
	anim_container = document.getElementById("animation_container");
	dom_overlay_container = document.getElementById("dom_overlay_container");
	var comp=AdobeAn.getComposition("43798F7AC4340A4FB69EACC351856905");
	var lib=comp.getLibrary();
	var loader = new createjs.LoadQueue(false);
	loader.addEventListener("fileload", function(evt){handleFileLoad(evt,comp)});
	loader.addEventListener("complete", function(evt){handleComplete(evt,comp)});
	var lib=comp.getLibrary();
	loader.loadManifest(lib.properties.manifest);
}
function handleFileLoad(evt, comp) {
	var images=comp.getImages();	
	if (evt && (evt.item.type == "image")) { images[evt.item.id] = evt.result; }	
}
function handleComplete(evt,comp) {
	//This function is always called, irrespective of the content. You can use the variable "stage" after it is created in token create_stage.
	var lib=comp.getLibrary();
	var ss=comp.getSpriteSheet();
	var queue = evt.target;
	var ssMetadata = lib.ssMetadata;
	for(i=0; i<ssMetadata.length; i++) {
		ss[ssMetadata[i].name] = new createjs.SpriteSheet( {"images": [queue.getResult(ssMetadata[i].name)], "frames": ssMetadata[i].frames} )
	}
	exportRoot = new lib.Exp1Rast();
	stage = new lib.Stage(canvas);
	stage.enableMouseOver();	
	//Registers the "tick" event listener.
	fnStartAnimation = function() {
		stage.addChild(exportRoot);
		createjs.Ticker.framerate = lib.properties.fps;
		createjs.Ticker.addEventListener("tick", stage);
	}	    
	//Code to support hidpi screens and responsive scaling.
	AdobeAn.makeResponsive(false,'both',false,1,[canvas,anim_container,dom_overlay_container]);	
	AdobeAn.compositionLoaded(lib.properties.id);
	fnStartAnimation();
}
</script>
<!-- write your code here -->
</head>

<body onload="init();" style="margin:5px;">
	<nav class="navbar nav-style fixed-top">
		<div class="navbar-header ">
			<a href="#" ><img class="logo img-fluid" src="{ 'img/logo.png' }" alt="logo"></a>
		
		</div>
	
	
		
	
	<div id="animation_container" style="background-color:rgba(102, 102, 102, 1.00);position: absolute;top:150px;left:200px; width:800px; height:600px">
		<canvas id="canvas" width="950" height="500" style="position: absolute; display: block; background-color:rgba(102, 102, 102, 1.00);"></canvas>
		<div id="dom_overlay_container" style="pointer-events:none; overflow:hidden; width:800px; height:600px; position: absolute; left: 0px; top: 0px; display: block;">
		</div>
	
    </div>

	<div style="position:absolute;top:150px;right:20px;" >
<table border="1" id="customers">
	<tr><th  style="font-size:20px;color:black"><b>Steps to be followed</b></th></tr>
	<tr><td  style="font-size:20px;color:black">1.) Drag and Drop the beaker </td></tr>
	<tr><td style="font-size:20px;color:black">2.) Add water to the beaker </td></tr>
	<tr><td  style="font-size:20px;color:black">3.) Place the Napthalene in the Weighing machine </td></tr>
	<tr><td  style="font-size:20px;color:black">4.) Add the cock to the boiling tube </td></tr>
	<tr><td  style="font-size:20px;color:black">5.) Add the thermometer to the test tube </td></tr>
	<tr><td  style="font-size:20px;color:black">6.) Press Stir Button </td></tr>
	</table>
	<br>

	
		<input type="text" id="name" placeholder="Enter the Napthalene weight(gm)">
		<br>
		<input type="text" id="email" placeholder="Enter the Biphenyl weight(gm)">
		<br>
		<input type="text" id="t1" placeholder="Enter temperature t1">
		<br>
		<input type="text" id="t2" placeholder="Enter temperature t2">
		<br>
	
		<input type="button" class="add-row" value="Add Row"></br></br>
	    <div style="height:150px;overflow:auto">
		<table id="table1" class="table table-striped table-bordered;">
			<thead>
				<thead>
					<tr>
						<th>Select</th>
						<th>Napthalene weight</th>
						<th>Biphenyl weight</th>
						<th>T1</th>
						<th>T2</th>
					</tr>
			</thead>
			<tbody>
				
			</tbody>
		</table>
	
		<button type="button" class="delete-row btn btn-danger">Delete Row</button>
		
	</div>
</div>
	
	
		</div>
	
</nav>
<br><br><br><br>
<div style="position: absolute; top: 10; left:0;">
	<label for="score">Score: <span id="score">10</span></label>
</div>

<div style="position: absolute; top: 20; right: 0;">
	<label for="total-score">Total Score: <span id="total-score"></span></label>
</div>
<br>



	<!-- Pagination -->
	<nav aria-label="Page navigation example "style="position:absolute;top:750px;left:400px;">
		
		<ul class="pagination ">
		  <li class="page-item">
			<a class="page-link" href="#!" aria-label="Previous">
			  <span aria-hidden="true">«</span>
			  <span class="sr-only">Previous</span>
			</a>
		  </li>
		  <li class="page-item"><a class="page-link" href="#">1</a></li>
		  <li class="page-item"><a class="page-link" href="#">2</a></li>
		  <li class="page-item"><a class="page-link" href="#">3</a></li>
		  <li class="page-item"><a class="page-link" href="experiments">4</a></li>
		  <li class="page-item"><a class="page-link" href="/submit_experiment">5</a></li>
		  <li class="page-item"><a class="page-link" href="#">6</a></li>
		  <!--<li class="page-item"><a class="page-link" href="/showvideo2">6</a></li>-->
		  <li class="page-item">
			<a class="page-link" href="#!" aria-label="Next">
			  <span aria-hidden="true">»</span>
			  <span class="sr-only">Next</span>
			</a>
		  </li>
		</ul>
	  </nav>
	 
	  <!-- End -->
	  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
	  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
</body>
<script>
	// Get the total score label element
/*	var pts = 10;
var totalScoreLabel = document.getElementById('total-score');
var totalScore = parseInt(localStorage.getItem('finalScore'));

// Add pts to totalScore
totalScore += pts;

// Update the total score label
totalScoreLabel.innerHTML = totalScore;

// Update the total score label
totalScoreLabel.innerHTML = totalScore; */




// Retrieve the pts variable from the Exp1.js file
var pts = 20;


// Update the total score label
var totalScoreLabel = document.getElementById('total-score');
var totalScore = parseInt(localStorage.getItem('finalScore')) + pts;
totalScoreLabel.innerHTML = totalScore;
const addRowButton = document.querySelector('.add-row');
    const deleteRowButton = document.querySelector('.delete-row');
    const saveJsonButton = document.querySelector('.save-json');
    const tableBody = document.querySelector('#table1 tbody');

    // Load previously saved data on page load
    window.addEventListener('load', function () {
      loadSavedTableData();
    });

    // Add event listener for adding rows
    addRowButton.addEventListener('click', function () {
      // Get the input values
      const napthaleneWeight = document.querySelector('#name').value;
      const biphenylWeight = document.querySelector('#email').value;
      const t1 = document.querySelector('#t1').value;
      const t2 = document.querySelector('#t2').value;

      // Create a new row in the table
      const newRow = tableBody.insertRow(-1);
      newRow.insertCell().innerHTML = '<input type="checkbox" class="select-row">';
      newRow.insertCell().innerText = napthaleneWeight;
      newRow.insertCell().innerText = biphenylWeight;
      newRow.insertCell().innerText = t1;
      newRow.insertCell().innerText = t2;

      // Save the updated JSON data
      saveTableDataAsJson();
    });

    // Add event listener for deleting rows
    deleteRowButton.addEventListener('click', function () {
      const selectedRows = document.querySelectorAll('.select-row:checked');
      selectedRows.forEach(function (row) {
        row.closest('tr').remove();
      });

      // Save the updated JSON data
      saveTableDataAsJson();
    });

    // Add event listener for saving JSON data
    saveJsonButton.addEventListener('click', function () {
      saveTableDataAsJson();
    });

    // Function to save the table data as JSON
    function saveTableDataAsJson() {
      const rows = tableBody.querySelectorAll('tr');
      const jsonData = [];

      for (let i = 0; i < rows.length; i++) {
        const cells = rows[i].querySelectorAll('td');
        const napthaleneWeight = cells[1].innerText;
        const biphenylWeight = cells[2].innerText;
        const t1 = cells[3].innerText;
        const t2 = cells[4].innerText;

        jsonData.push({
          napthaleneWeight: napthaleneWeight,
          biphenylWeight: biphenylWeight,
          t1: t1,
          t2: t2,
        });
      }

      const jsonString = JSON.stringify(jsonData);

      // Save the JSON data in localStorage
      localStorage.setItem('tableData', jsonString);

      alert('JSON data saved!');
    }

    // Function to load the previously saved table data
    function loadSavedTableData() {
      const tableData = localStorage.getItem('tableData');
      if (tableData) {
        const jsonData = JSON.parse(tableData);
        for (let i = 0; i < jsonData.length; i++) {
          const newRow = tableBody.insertRow(-1);
          newRow.insertCell().innerHTML = '<input type="checkbox" class="select-row">';
          newRow.insertCell().innerText = jsonData[i].napthaleneWeight;
          newRow.insertCell().innerText = jsonData[i].biphenylWeight;
          newRow.insertCell().innerText = jsonData[i].t1;
          newRow.insertCell().innerText = jsonData[i].t2;
        }
      }
    }  </script>
</script>
</html>

